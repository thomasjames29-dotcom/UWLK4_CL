
:root {
  --primary-color: #00e5ff;
  --secondary-color: #ff0044;
  --highlight-color: #ffd700;
  --dark-bg: #000;
  --medium-bg: #111;
  --light-bg: #222;
  --text-color: #fff;
  --text-dim: #9ca3af;
}

body, html {
  font-family: 'VT323', monospace;
  height: 100%;
  margin: 0;
  overflow: hidden;
  background-color: var(--dark-bg);
  color: var(--primary-color);
  -webkit-tap-highlight-color: transparent;
}

#app {
  height: 100dvh;
  width: 100%;
  overflow: hidden;
  position: relative;
}

/* --- ANIMATIONS --- */
@keyframes ripple { 0% { width:0; height:0; opacity:0.8; border-width:5px; } 100% { width:100px; height:100px; opacity:0; border-width:0; } }
.animate-ripple { animation: ripple 1.5s infinite linear; }
@keyframes walk-body { 0%, 100% { transform: translateY(0px) rotate(-2deg); } 50% { transform: translateY(-1px) rotate(2deg); } }
.walking-body { animation: walk-body 0.4s infinite ease-in-out; transform-origin: bottom center; }
@keyframes pulse-glow { 0%, 100% { box-shadow: 0 0 10px var(--primary-color); transform: scale(1); } 50% { box-shadow: 0 0 25px var(--primary-color); transform: scale(1.05); } }
.animate-pulse-glow { animation: pulse-glow 1.5s infinite ease-in-out; }

/* --- GLOBAL COMPONENTS --- */
#toast {
  position: fixed; left: 50%; transform: translateX(-50%); background: rgba(0, 0, 0, 0.95);
  border: 2px solid var(--primary-color); color: var(--primary-color); padding: 1rem 2rem;
  border-radius: 9999px; z-index: 30000; transition: all 0.3s ease-out; font-size: 1.25rem;
  text-transform: uppercase; white-space: pre-wrap; text-align: center; box-shadow: 0 0 30px var(--primary-color);
  top: -100%;
}
#toast.visible { top: 2rem; }

.modal-backdrop {
  position: fixed; inset: 0; background-color: rgba(0, 0, 0, 0.9);
  z-index: 5000; display: flex; flex-direction: column; align-items: center; justify-content: center; backdrop-filter: blur(4px);
}

/* --- TITLE SCREEN --- */
#title-screen {
  position: fixed; inset: 0; background-color: var(--dark-bg); z-index: 500;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  text-align: center; cursor: pointer;
}
#title-screen h1 { font-size: 6rem; line-height: 0.8; color: var(--highlight-color); text-shadow: 4px 4px 0 var(--secondary-color); }
#title-screen h1 span { font-size: 2.25rem; color: var(--text-color); }
#title-screen .start-prompt { margin-top: 2.5rem; color: var(--primary-color); font-size: 1.875rem; padding: 1rem 2.5rem; font-weight: bold; }
#title-screen .save-info { color: var(--primary-color); margin-top: 1.25rem; }

/* --- MAIN UI --- */
#view-container { position: absolute; inset: 0; padding-bottom: 5rem; overflow-y: auto; background-color: #000; }
#nav-bar {
  position: fixed; bottom: 0; left: 0; width: 100%; height: 5rem; background-color: var(--dark-bg);
  border-top: 2px solid var(--primary-color); display: flex; justify-content: space-around; align-items: center; z-index: 4000;
}
.nav-button {
  flex-grow: 1; padding: 1.25rem 0; text-align: center; font-weight: bold; font-size: 1.25rem;
  transition: all 0.2s; border-bottom: 4px solid transparent; cursor: pointer; color: #6b7280;
}
.nav-button.active { color: var(--primary-color); border-bottom-color: var(--primary-color); background-color: rgba(0, 229, 255, 0.1); box-shadow: 0 0 10px var(--primary-color); }

/* --- CARD REVEAL --- */
.perspective { perspective: 1000px; }
.flipper { transition: 0.6s; transform-style: preserve-3d; position: relative; }
.flipper.flipped { transform: rotateY(180deg); }
.flipper .front, .flipper .back { backface-visibility: hidden; position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
.flipper .back { transform: rotateY(180deg); }

/* --- PLAYER CARD --- */
.player-card { display: flex; flex-direction: column; width: 260px; height: 380px; border: 4px solid white; border-radius: 0.75rem; position: relative; overflow: hidden; }
.player-card .bg-common { background: linear-gradient(45deg, #444, #666); }
.player-card .bg-rare { background: linear-gradient(45deg, #003366, #0055a5); }
.player-card .bg-epic { background: radial-gradient(circle, #8a2be2, #4b0082); }
.player-card .bg-legend { background: linear-gradient(135deg, #b8860b, #ffd700, #b8860b); }
.player-card .bg-mythic { background: linear-gradient(to bottom, #4c0000, #ff0000, #4c0000); }
.player-card button { position: absolute; bottom: 1rem; left: 50%; transform: translateX(-50%); width: 80%; }

/* --- BUTTONS & INPUTS --- */
button, .button {
  cursor: pointer; border: 2px solid var(--primary-color); background-color: transparent; color: var(--primary-color);
  padding: 0.5rem 1rem; font-family: 'VT323', monospace; font-size: 1.25rem; text-transform: uppercase; transition: all 0.2s;
}
button:active, .button:active { background-color: var(--primary-color); color: var(--dark-bg); }

/* --- VIEWS --- */
/* MAP VIEW */
#map { width: 100%; height: 100%; }
.leaflet-container { background-color: #333; }
#map-recenter-btn { position: fixed; top: 1.25rem; right: 1.25rem; width: 4rem; height: 4rem; border-radius: 50%; background-color: var(--dark-bg); z-index: 1000; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 15px var(--primary-color); font-size: 2.25rem; }

/* SQUAD VIEW */
.squad-pitch { width: 100%; height: 400px; background-color: rgba(0, 100, 0, 0.5); border: 4px solid var(--primary-color); margin: 0 auto; position: relative; border-radius: 0.5rem; box-shadow: 0 0 20px rgba(0, 229, 255, 0.2); }
.pitch-slot {
  position: absolute; width: 3.5rem; height: 4rem; background-color: rgba(0,0,0,0.7); border: 2px solid #6b7280;
  border-radius: 0.375rem; transform: translate(-50%, -50%); display: flex; flex-direction:column; align-items: center; justify-content: center;
  font-size: 1rem; color: #6b7280; cursor: pointer; transition: all 0.3s; z-index: 10;
}
.pitch-slot.selected { border-color: var(--highlight-color) !important; box-shadow: 0 0 15px var(--highlight-color); transform: translate(-50%, -50%) scale(1.1); z-index: 20; }
.pitch-slot .player-icon { width: 3rem; height: 3rem; }
.pitch-slot .player-ovr { font-size: 0.8rem; font-weight: bold; line-height: 1; }

/* GENERIC STYLES for views */
.view-header { padding: 1.25rem; text-align: center; }
.view-title { color: var(--highlight-color); font-size: 1.875rem; margin: 0; }